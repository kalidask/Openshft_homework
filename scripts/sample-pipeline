iapiVersion: v1
kind: BuildConfig
metadata:
  name: sample-pipeline
  labels:
    app: jenkins-pipeline-example
    name: sample-pipeline
    template: application-template-sample-pipeline
spec:
  runPolicy: Serial
  strategy:
    type: JenkinsPipeline
    jenkinsPipelineStrategy:
      jenkinsfile: |-
        node('') {
          stage 'buildInTasksPro'
            openshiftBuild(namespace:'tasks',buildConfig: 'tasks2', showBuildLogs: 'true')
          stage 'deployInTasksPro'
            openshiftDeploy(namespace:'tasks',deploymentConfig: 'tasks2')
            #openshiftScale(namespace:'cicd',deploymentConfig: 'openshift-task',replicaCount: '1')
          stage 'deployinCICD'
            openshiftDeploy(namespace:'cicd',deploymentConfig: 'tasks2')
        }
  output:
  resources:
  postCommit:

